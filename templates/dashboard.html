<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard</title>
  
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.5.0/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.9/css/weather-icons.min.css">
  <script>
    function updateTime() {
      var today = new Date();
      var day = today.getDate();
      var month = today.getMonth();
      var year = today.getFullYear();
      var hours = today.getHours();
      var minutes = today.getMinutes();
      var monthNames = [
        "January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December"
      ];

      // Adding leading zero to minutes and seconds if they are less than 10
      minutes = minutes < 10 ? '0' + minutes : minutes;

      var formattedDate = day + " " + monthNames[month] + " " + year + " " + hours + ":" + minutes;
      document.getElementById("datetime").innerHTML = formattedDate;
      setTimeout(updateTime, 100000); // Call the function every 100 seconds 
      const body = document.body; // Select the element to change background
      var hour = today.getHours();
      if (hour >= 6 && hour < 14) {
        body.style.background = "url('./assets/img/Morning.png')";
        body.style.backgroundSize = 'cover';
      } else if (hour >= 14 && hour < 19) {
        body.style.background = "url('./assets/img/Evening.png')";
        body.style.backgroundSize = "cover";
      } else {
        body.style.background = "url('./assets/img/Night.png')";
        body.style.backgroundSize = "cover";
      }
    }
  </script>
  <style>
    .button {
    background-color: transparent;
    border: none;
    padding: 10px;
    cursor: pointer;
}
  </style>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style1.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/swiper-bundle.min.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
  <div class="description">
    <h1 style="font-size : 50px; margin-bottom:0px; margin-left:50px;">Yangon</h1>
    <h4 id="datetime" style="margin-top: 0px; padding-top:5px; margin-left:60px;"></h4>
    <script>
      updateTime();
    </script>
    <button style="position: absolute; right: 10%; top: 10%; transform: translateY(-50%);">
      <a href="/index.html" style="text-decoration: none;"><</a>
    </button>
  </div>

  <div class="temperature">
    <div class="block_one">
      <div class="col_one">
        <h1 style=" margin : 0px;">{{ current_temperature }}°C</h1>
      </div>
      <div class="col_two">
        <p>{{ current_weather_description}}</p>
      </div>
    </div>

                <div class="block_three">
            {% if current_weather == "Sunny" %}
                <i class="wi wi-day-sunny"></i>
            {% elif current_weather == "Cloudy" %}
                <i class="wi wi-cloudy"></i>
            {% elif current_weather == "Rain" %}
                <i class="wi wi-rain"></i>
            {% elif current_weather == "Snowy" %}
                <i class="wi wi-snow"></i>
            {% elif current_weather == "Thunderstorm" %}
                <i class="wi wi-thunderstorm"></i>
            {% else %}
                <i class="wi wi-day-cloudy"></i>
            {% endif %}
        </div>
    <div class="block_four">
      <p class="temp"><i class="fa-solid fa-temperature-half"></i>&nbsp;Feels Like: <span>{{ current_feels_like | round(0) }}°C</span></p>
      <p class="temp"><i class="fa-solid fa-droplet"></i>&nbsp;Humidity: <span>{{current_humidity}}%;</span></p>
    </div>
  </div>

  <div class="hourly_forecast">
      {% for prediction in predictions[:12] %}
        <div class="hourly">
          <h4>{{prediction.time}}</h4>
          <h2 style="margin: 0; padding:0;">{{ prediction.temperature }}°C</h2>
          
                                                                  <div class="image1">
                                            {% if prediction.weather == 'Clear' %}
                                                <i class="wi wi-day-sunny"></i>
                                            {% elif prediction.weather == 'Clouds' %}
                                                <i class="wi wi-cloudy"></i>
                                            {% elif prediction.weather == 'Drizzle' %}
                                                <i class="wi wi-sprinkle"></i>
                                            {% elif prediction.weather == 'Fog' %}
                                                <i class="wi wi-fog"></i>
                                            {% elif prediction.weather == 'Haze' %}
                                                <i class="wi wi-day-haze"></i>
                                            {% elif prediction.weather == 'Mist' %}
                                                <i class="wi wi-dust"></i>
                                            {% elif prediction.weather == 'Rain' %}
                                                <i class="wi wi-rain"></i>
                                            {% elif prediction.weather == 'Thunderstorm' %}
                                                <i class="wi wi-thunderstorm"></i>
                                            {% else %}
                                                <i class="wi wi-na"></i>
                                            {% endif %}
                                        </div>
              <h4>{{ prediction.weather}}</h4>
        </div>
      {% endfor %}
    </div>

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</body>

</html>